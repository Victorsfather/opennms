<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd" >
<changeSet author="patrick-schweizer" id="26.0.0-add-timescale-columns">
    <sql>
        CREATE TABLE timeseries(
        time       TIMESTAMPTZ      NOT NULL,
        context    TEXT              NOT NULL,
        resource   TEXT              NOT  NULL,
        name       TEXT              NOT  NULL,
        type       TEXT              NOT  NULL,
        value      DOUBLE PRECISION  NULL);
    </sql>
    <sql><!-- turn table into a timescale table, timescale plugin must be enabled in database -->
        SELECT create_hypertable('timeseries', 'time');
    </sql>
</changeSet>
</databaseChangeLog>
